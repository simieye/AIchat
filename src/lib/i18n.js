
// 国际化配置
const translations = {
  'zh-CN': {
    settings: '设置',
    general: '通用',
    notifications: '通知',
    security: '安全',
    integrations: '集成',
    appearance: '外观',
    language: '语言',
    timezone: '时区',
    dateFormat: '日期格式',
    timeFormat: '时间格式',
    darkMode: '深色模式',
    analytics: '数据分析',
    saveSettings: '保存设置',
    reset: '重置',
    settingsSaved: '设置已保存',
    settingsUpdatedSuccessfully: '设置已成功更新',
    settingsReset: '设置已重置',
    settingsResetToDefault: '设置已重置为默认值',
    languageDescription: '选择您偏好的界面语言',
    darkModeDescription: '在深色和浅色主题之间切换',
    analyticsDescription: '允许收集匿名使用数据以改进产品',
    emailNotifications: '邮件通知',
    pushNotifications: '推送通知',
    autoSync: '自动同步',
    emailNotificationsDescription: '接收重要更新的邮件通知',
    pushNotificationsDescription: '在浏览器中接收实时通知',
    autoSyncDescription: '自动同步您的社交媒体数据',
    generalSettings: '通用设置',
    notificationSettings: '通知设置',
    securitySettings: '安全设置',
    integrationSettings: '集成设置',
    appearanceSettings: '外观设置',
    manageYourPreferences: '管理您的偏好设置',
    loading: '加载中...',
    error: '错误',
    errorLoadingData: '加载数据失败',
    welcomeBack: '欢迎回来',
    dashboard: '仪表盘',
    totalLeads: '总线索',
    totalMessages: '总消息',
    totalViews: '总浏览',
    revenue: '收入',
    dataRefreshed: '数据已刷新',
    dashboardDataUpdated: '仪表盘数据已更新',
    refresh: '刷新',
    newLead: '新线索',
    from: '来源',
    newConversation: '新对话',
    platform: '平台',
    chatbotManagement: '聊天机器人管理',
    createChatbot: '创建聊天机器人',
    chatbotCreated: '聊天机器人已创建',
    chatbotUpdated: '聊天机器人已更新',
    chatbotDeleted: '聊天机器人已删除',
    statusUpdated: '状态已更新',
    platformConnected: '平台已连接',
    platformDisconnected: '平台已断开',
    errorConnectingPlatform: '连接平台失败',
    integrationManagement: '集成管理'
  },
  'en-US': {
    settings: 'Settings',
    general: 'General',
    notifications: 'Notifications',
    security: 'Security',
    integrations: 'Integrations',
    appearance: 'Appearance',
    language: 'Language',
    timezone: 'Timezone',
    dateFormat: 'Date Format',
    timeFormat: 'Time Format',
    darkMode: 'Dark Mode',
    analytics: 'Analytics',
    saveSettings: 'Save Settings',
    reset: 'Reset',
    settingsSaved: 'Settings Saved',
    settingsUpdatedSuccessfully: 'Settings updated successfully',
    settingsReset: 'Settings Reset',
    settingsResetToDefault: 'Settings reset to default values',
    languageDescription: 'Choose your preferred interface language',
    darkModeDescription: 'Toggle between dark and light themes',
    analyticsDescription: 'Allow collection of anonymous usage data to improve the product',
    emailNotifications: 'Email Notifications',
    pushNotifications: 'Push Notifications',
    autoSync: 'Auto Sync',
    emailNotificationsDescription: 'Receive email notifications for important updates',
    pushNotificationsDescription: 'Receive real-time notifications in your browser',
    autoSyncDescription: 'Automatically sync your social media data',
    generalSettings: 'General Settings',
    notificationSettings: 'Notification Settings',
    securitySettings: 'Security Settings',
    integrationSettings: 'Integration Settings',
    appearanceSettings: 'Appearance Settings',
    manageYourPreferences: 'Manage your preferences',
    loading: 'Loading...',
    error: 'Error',
    errorLoadingData: 'Failed to load data',
    welcomeBack: 'Welcome back',
    dashboard: 'Dashboard',
    totalLeads: 'Total Leads',
    totalMessages: 'Total Messages',
    totalViews: 'Total Views',
    revenue: 'Revenue',
    dataRefreshed: 'Data Refreshed',
    dashboardDataUpdated: 'Dashboard data updated',
    refresh: 'Refresh',
    newLead: 'New Lead',
    from: 'From',
    newConversation: 'New Conversation',
    platform: 'Platform',
    chatbotManagement: 'Chatbot Management',
    createChatbot: 'Create Chatbot',
    chatbotCreated: 'Chatbot Created',
    chatbotUpdated: 'Chatbot Updated',
    chatbotDeleted: 'Chatbot Deleted',
    statusUpdated: 'Status Updated',
    platformConnected: 'Platform Connected',
    platformDisconnected: 'Platform Disconnected',
    errorConnectingPlatform: 'Error connecting platform',
    integrationManagement: 'Integration Management'
  },
  'ja-JP': {
    settings: '設定',
    general: '一般',
    notifications: '通知',
    security: 'セキュリティ',
    integrations: '統合',
    appearance: '外観',
    language: '言語',
    timezone: 'タイムゾーン',
    dateFormat: '日付形式',
    timeFormat: '時刻形式',
    darkMode: 'ダークモード',
    analytics: '分析',
    saveSettings: '設定を保存',
    reset: 'リセット',
    settingsSaved: '設定が保存されました',
    settingsUpdatedSuccessfully: '設定が正常に更新されました',
    settingsReset: '設定がリセットされました',
    settingsResetToDefault: '設定がデフォルト値にリセットされました',
    languageDescription: 'お好みのインターフェース言語を選択してください',
    darkModeDescription: 'ダークテーマとライトテーマを切り替えます',
    analyticsDescription: '製品の改善のための匿名の使用データの収集を許可します',
    emailNotifications: 'メール通知',
    pushNotifications: 'プッシュ通知',
    autoSync: '自動同期',
    emailNotificationsDescription: '重要な更新のメール通知を受け取る',
    pushNotificationsDescription: 'ブラウザでリアルタイム通知を受け取る',
    autoSyncDescription: 'ソーシャルメディアデータを自動的に同期',
    generalSettings: '一般設定',
    notificationSettings: '通知設定',
    securitySettings: 'セキュリティ設定',
    integrationSettings: '統合設定',
    appearanceSettings: '外観設定',
    manageYourPreferences: '設定を管理する',
    loading: '読み込み中...',
    error: 'エラー',
    errorLoadingData: 'データの読み込みに失敗しました',
    welcomeBack: 'お帰りなさい',
    dashboard: 'ダッシュボード',
    totalLeads: '総リード',
    totalMessages: '総メッセージ',
    totalViews: '総閲覧数',
    revenue: '収益',
    dataRefreshed: 'データが更新されました',
    dashboardDataUpdated: 'ダッシュボードデータが更新されました',
    refresh: '更新',
    newLead: '新規リード',
    from: 'から',
    newConversation: '新規会話',
    platform: 'プラットフォーム',
    chatbotManagement: 'チャットボット管理',
    createChatbot: 'チャットボット作成',
    chatbotCreated: 'チャットボットが作成されました',
    chatbotUpdated: 'チャットボットが更新されました',
    chatbotDeleted: 'チャットボットが削除されました',
    statusUpdated: 'ステータスが更新されました',
    platformConnected: 'プラットフォームが接続されました',
    platformDisconnected: 'プラットフォームが切断されました',
    errorConnectingPlatform: 'プラットフォーム接続エラー',
    integrationManagement: '統合管理'
  }
  // 可以继续添加其他语言的翻译...
};

// 国际化 Hook
export function useTranslation() {
  const [currentLanguage, setCurrentLanguage] = useState('zh-CN');

  useEffect(() => {
    // 从本地存储加载语言设置
    const savedLanguage = localStorage.getItem('app_language');
    if (savedLanguage && translations[savedLanguage]) {
      setCurrentLanguage(savedLanguage);
    }
  }, []);

  const t = (key) => {
    return translations[currentLanguage]?.[key] || translations['zh-CN']?.[key] || key;
  };

  const changeLanguage = (languageCode) => {
    if (translations[languageCode]) {
      setCurrentLanguage(languageCode);
      localStorage.setItem('app_language', languageCode);
      
      // 触发语言变更事件
      window.dispatchEvent(new CustomEvent('languageChanged', { detail: languageCode }));
    }
  };

  return {
    t,
    currentLanguage,
    changeLanguage,
    languages: Object.keys(translations)
  };
}

// 语言上下文提供者（用于全局状态管理）
export function LanguageProvider({ children }) {
  const { t, currentLanguage, changeLanguage } = useTranslation();
  
  return React.createElement(
    React.createContext({}).Provider,
    { value: { t, currentLanguage, changeLanguage } },
    children
  );
}
